(this["webpackJsonpstress-scale"]=this["webpackJsonpstress-scale"]||[]).push([[0],{24:function(e){e.exports=JSON.parse('[{"id":1,"question":"In the last month, how often have you been upset because of something that happened unexpectedly?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"},{"id":2,"question":"In the last month, how often have you felt that you were unable to control the important things in your life?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"},{"id":3,"question":"In the last month, how often have you felt nervous and stressed?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"},{"id":4,"question":"In the last month, how often have you felt confident about your ability to handle your personal problems?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"true"},{"id":5,"question":"In the last month, how often have you felt that things were going your way?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"true"},{"id":6,"question":"In the last month, how often have you found that you could not cope with all the things that you had to do?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"},{"id":7,"question":"In the last month, how often have you been able to control irritations in your life?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"true"},{"id":8,"question":"In the last month, how often have you felt that you were on top of things?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"true"},{"id":9,"question":"In the last month, how often have you been angered because of things that happened that were outside of your control?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"},{"id":10,"question":"In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?","optionA":"never","optionB":"almost never","optionC":"sometimes","optionD":"fairly often","optionE":"very often","reverse":"false"}]')},44:function(e,t,s){},45:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),a=s(35),r=s.n(a),i=(s(44),s(5)),l=s(3),c=(s(45),s(10)),d=s(0);var h=function(){return Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsxs)("div",{className:"container landing-container",children:[Object(d.jsxs)("div",{className:"wrapper landing-nav-wrapper",children:[Object(d.jsx)("div",{className:"logo"}),Object(d.jsxs)("ul",{className:"nav-list",children:[Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)("li",{className:"list-item",children:"Login"})}),Object(d.jsx)(i.b,{to:"register",children:Object(d.jsx)("li",{className:"list-item",children:"Register"})})]})]}),Object(d.jsx)("div",{className:"wrapper landing-footer-wrapper",children:Object(d.jsxs)("ul",{className:"footer-nav-list",children:[Object(d.jsx)("label",{children:"Helpful links:"}),Object(d.jsx)("a",{href:"https://www.healthline.com/nutrition/16-ways-relieve-stress-anxiety",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"16 Simple Ways to Relieve Stress and Anxiety"})}),Object(d.jsx)("a",{href:"https://www.mentalhealth.org.uk/publications/how-manage-and-reduce-stress",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"How to manage and reduce stress"})})]})})]})]})},u=s(13),m=s(11),j=s.n(m);var p=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),s=t[0],o=t[1],a=Object(n.useState)(""),r=Object(u.a)(a,2),l=r[0],h=r[1];return Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsxs)("div",{className:"container landing-container",children:[Object(d.jsxs)("div",{className:"wrapper landing-nav-wrapper",children:[Object(d.jsx)("div",{className:"logo"}),Object(d.jsxs)("div",{className:"form register-form",children:[Object(d.jsx)("input",{type:"text",id:"registerIdInput",onChange:function(e){o(e.target.value)},placeholder:"Enter your User ID..."}),Object(d.jsx)("input",{type:"password",id:"registerPasswordInput",onChange:function(e){h(e.target.value)},placeholder:"Enter your Password..."}),Object(d.jsx)("ul",{className:"nav-list",children:Object(d.jsx)(i.b,{onClick:function(){s?l?j.a.post("/api/register",{userId:s,userPassword:l}).then((function(e){"User already exists, please choose a different User ID."===e.data.message?alert(e.data.message):"User registered successfully. Please Login to continue!"===e.data.message?(alert(e.data.message),window.location="/"):(alert("Sorry, some error occured!"),console.log(e.data.message))})):alert("No password"):alert("No id")},children:Object(d.jsx)("li",{className:"list-item",children:"Register"})})})]}),Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("button",{className:"btn btn-form btn-register",children:"Go back"})})]}),Object(d.jsx)("div",{className:"wrapper landing-footer-wrapper",children:Object(d.jsxs)("ul",{className:"footer-nav-list",children:[Object(d.jsx)("label",{children:"Helpful links:"}),Object(d.jsx)("a",{href:"https://www.healthline.com/nutrition/16-ways-relieve-stress-anxiety",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"16 Simple Ways to Relieve Stress and Anxiety"})}),Object(d.jsx)("a",{href:"https://www.mentalhealth.org.uk/publications/how-manage-and-reduce-stress",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"How to manage and reduce stress"})})]})})]})]})};var b=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),s=t[0],o=t[1],a=Object(n.useState)(""),r=Object(u.a)(a,2),l=r[0],h=r[1];return j.a.defaults.withCredentials=!0,Object(n.useEffect)((function(){j.a.get("/api/login").then((function(e){e.data.user&&localStorage.setItem("userId",e.data.user.uid)}))})),Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsxs)("div",{className:"container landing-container",children:[Object(d.jsxs)("div",{className:"wrapper landing-nav-wrapper",children:[Object(d.jsx)("div",{className:"logo"}),Object(d.jsxs)("div",{className:"form login-form",children:[Object(d.jsx)("input",{type:"text",id:"loginIdInput",onChange:function(e){o(e.target.value)},placeholder:"Enter your User ID..."}),Object(d.jsx)("input",{type:"password",id:"loginPasswordInput",onChange:function(e){h(e.target.value)},placeholder:"Enter your Password..."}),Object(d.jsx)("ul",{className:"nav-list",children:Object(d.jsx)(i.b,{onClick:function(){j.a.post("/api/login",{userId:s,userPassword:l}).then((function(e){if("User Id and Password combination wrong!"===e.data.message)alert(e.data.message);else if(e.data.fail)alert(e.data.fail);else{console.log("Post login response",e.data),localStorage.setItem("userId",e.data.message[0].uid),null===e.data.message[e.data.message.length-1].day?localStorage.setItem("day",1):localStorage.setItem("day",e.data.message[e.data.message.length-1].day+1);var t=localStorage.getItem("userId");alert("Welcome "+t),console.log(e.data.message),window.location="/questions"}}))},children:Object(d.jsx)("li",{className:"list-item",children:"Login and take test"})})})]}),Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("button",{type:"button",className:"btn btn-form btn-login",children:"Go Back"})})]}),Object(d.jsx)("div",{className:"wrapper landing-footer-wrapper",children:Object(d.jsxs)("ul",{className:"footer-nav-list",children:[Object(d.jsx)("label",{children:"Helpful links:"}),Object(d.jsx)("a",{href:"https://www.healthline.com/nutrition/16-ways-relieve-stress-anxiety",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"16 Simple Ways to Relieve Stress and Anxiety"})}),Object(d.jsx)("a",{href:"https://www.mentalhealth.org.uk/publications/how-manage-and-reduce-stress",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"How to manage and reduce stress"})})]})})]})]})},g=s(23),f=s.n(g),v=s(39),O=s(15),x=s(16),y=s(17),w=s(19),N=s(18),I=s(24),S=function(e){return void 0===e||null==e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},k=s.p+"static/media/keepGoing.f5cacf02.jpeg",C=s.p+"static/media/smiley.c57e7058.jpeg",Q=function(e){Object(w.a)(s,e);var t=Object(N.a)(s);function s(e){var n;return Object(O.a)(this,s),(n=t.call(this,e)).endTest=function(){var e=Object(y.a)(n).state;j.a.post("api/addScore",{userId:localStorage.getItem("userId"),dailyScore:e.score,day:localStorage.getItem("day")}).then(function(){var t=Object(v.a)(f.a.mark((function t(s){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("/api/showScore",{userId:localStorage.getItem("userId"),dailyScore:e.score,day:localStorage.getItem("day")});case 2:n=t.sent,console.log("reposne from show score ",n),n.data.scoreMessage?localStorage.setItem("scoreMessage",n.data.scoreMessage):(alert("No score from server"),localStorage.setItem("scoreMessage",null)),console.log(JSON.parse(localStorage.getItem("scoreMessage"))),alert("The test has concluded.");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),setTimeout((function(){var t={userId:localStorage.getItem("userId"),score:e.score,numberOfQuestions:e.numberOfQuestions,numberOfAnsweredQuestions:e.numberOfAnsweredQuestions,scoreMessage:JSON.parse(localStorage.getItem("scoreMessage"))};console.log(t),n.props.history.push("/summary",t),localStorage.removeItem("userId")}),500)},n.handleOptionClick=function(e){var t=e.target;"never"===t.innerHTML?"false"===t.id.split("__")[1]?n.saveScore=0:n.saveScore=4:"almost never"===t.innerHTML?"false"===t.id.split("__")[1]?n.saveScore=1:n.saveScore=3:"sometimes"===t.innerHTML?(t.id.split("__")[1],n.saveScore=2):"fairly often"===t.innerHTML?"false"===t.id.split("__")[1]?n.saveScore=3:n.saveScore=1:"very often"===t.innerHTML&&("false"===t.id.split("__")[1]?n.saveScore=4:n.saveScore=0),n.state.numberOfAnsweredQuestions%3===0?document.getElementById("modal").className="show":document.getElementById("modal").className="hide",n.state.score>=26?n.modalImg=k:(n.state.score>=13&&n.state.score<26||n.state.score>8&&n.state.score<13)&&(n.modalImg=C),n.setState((function(e){return{score:e.score+n.saveScore,currentQuestionIndex:e.currentQuestionIndex+1,numberOfAnsweredQuestions:e.numberOfAnsweredQuestions+1}}),(function(){void 0===n.state.nextQuestion?n.endTest():n.showQuestions(n.state.questions,n.state.currentQuestion,n.state.nextQuestion,n.state.previousQuestion)}))},n.closeModalFn=function(e){document.getElementById("modal").className="hide"},n.handleButtonClick=function(e){switch(e.target.id){case"exit-button":n.handleExitButtonClick()}},n.handleExitButtonClick=function(){window.confirm("Are you sure you want to exit out of the stress test?"),n.endTest()},n.state={questions:I,currentQuestionIndex:0,currentQuestion:{},nextQuestion:{},previousQuestion:{},nextButtonDisabled:!1,previousButtonDisabled:!1,numberOfQuestions:I.length,numberOfAnsweredQuestions:0,score:0,saveScore:0,closeModal:0},n}return Object(x.a)(s,[{key:"componentDidMount",value:function(){var e=this.state,t=e.questions,s=e.currentQuestion,n=e.nextQuestion,o=e.previousQuestion;this.showQuestions(t,s,n,o)}},{key:"showQuestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.questions,t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(S(this.state.questions))alert("Blank/undefined data!");else{var o=this.state.currentQuestionIndex;t=(e=this.state.questions)[o],s=e[o+1],n=e[o-1],this.setState({currentQuestion:t,nextQuestion:s,previousQuestion:n})}}},{key:"render",value:function(){var e=this.state.currentQuestion;return null!==localStorage.getItem("userId")?Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsxs)("div",{className:"container questions-container",children:[Object(d.jsxs)("div",{id:"modal",style:{visibility:this.modalVisibility,opacity:this.modalOpacity},children:[Object(d.jsx)("span",{className:"modal-close",onClick:this.closeModalFn,children:"X"}),Object(d.jsx)("div",{className:"modalImg",children:this.modalImg?Object(d.jsx)("img",{src:this.modalImg,alt:"#",className:"modalPic"}):""})]}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)("div",{className:"question-block",children:Object(d.jsx)("p",{id:e.id,className:"question",title:e.question,children:e.question})}),Object(d.jsxs)("div",{className:"answer-block",children:[Object(d.jsx)("p",{id:e.id+"-"+e.optionA+"__"+e.reverse,className:"option",onClick:this.handleOptionClick,children:e.optionA}),Object(d.jsx)("p",{id:e.id+"-"+e.optionB+"__"+e.reverse,className:"option",onClick:this.handleOptionClick,children:e.optionB}),Object(d.jsx)("p",{id:e.id+"-"+e.optionC+"__"+e.reverse,className:"option",onClick:this.handleOptionClick,children:e.optionC}),Object(d.jsx)("p",{id:e.id+"-"+e.optionD+"__"+e.reverse,className:"option",onClick:this.handleOptionClick,children:e.optionD}),Object(d.jsx)("p",{id:e.id+"-"+e.optionE+"__"+e.reverse,className:"option",onClick:this.handleOptionClick,children:e.optionE})]}),Object(d.jsx)("div",{className:"buttons-block",children:Object(d.jsx)("button",{id:"exit-button",className:"btn btn-close",onClick:this.handleButtonClick,children:"Exit"})})]})]})]}):Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsx)("div",{className:"container questions-container",children:Object(d.jsxs)("h1",{children:["You are not logged in! Please ",Object(d.jsx)(i.b,{to:"/",children:"go to homepage"})," ","and login to continue."]})})]})}}]),s}(n.Component),q=function(e){Object(w.a)(s,e);var t=Object(N.a)(s);function s(e){var n;return Object(O.a)(this,s),(n=t.call(this,e)).state={userId:"",score:0,numberOfQuestions:0,numberOfAnsweredQuestions:0},n}return Object(x.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.location.state;this.setState={userId:e.userId,score:e.score,numberOfQuestions:e.numberOfQuestions,numberOfAnsweredQuestions:e.numberOfAnsweredQuestions,scoreMessage:e.scoreMessage,link:"",text:""}}},{key:"render",value:function(){console.log(localStorage.getItem("userId")),console.log("scoreMessage from summary",JSON.parse(localStorage.getItem("scoreMessage"))),console.log(this.props.location.state);var e,t,s,o,a,r=this.props.location.state,l=JSON.parse(localStorage.getItem("scoreMessage"));return this.state.score>-1&&this.state.score<14?(s="Ways to Manage Stress",t="https://www.webmd.com/balance/stress-management/stress-management",o="https://media4.giphy.com/media/pmONR25D6YmkI2qHVg/giphy.gif",a=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"score",children:"Stress level is low"}),Object(d.jsx)("p",{className:"score",children:"You have no reason to worry. Your stress levels are under control \ud83c\udf89"}),A(l,this.state)]})):this.state.score>13&&this.state.score<27?(s="How to manage and reduce stress",t="https://www.mentalhealth.org.uk/publications/how-manage-and-reduce-stress",o="https://media3.giphy.com/media/2csuIJj6TmuKA/giphy.webp",a=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"score",children:"Stress level is moderate"}),Object(d.jsx)("p",{className:"score",children:"You have a moderate stress level. Need to work on a few things \ud83e\uddbe"}),A(l,this.state)]})):(s="16 Simple Ways to Relieve Stress and Anxiety",t="https://www.healthline.com/nutrition/16-ways-relieve-stress-anxiety",o="https://media4.giphy.com/media/dDXZ3qU5nRBIe82Uit/giphy.gif",a=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"score",children:"Stress level is hight"}),Object(d.jsx)("p",{className:"score",children:"You need to relax, my friend! You have a high stress level \ud83e\udd2f"}),A(l,this.state)]})),e=void 0!==r?Object(d.jsx)(n.Fragment,{children:Object(d.jsxs)("p",{className:"wrapper stats-wrapper",children:[Object(d.jsx)("p",{className:"test-over",children:"You have successfully completed the test \u2705"}),Object(d.jsx)("img",{className:"relaxImg",src:o,alt:"relax"}),a,Object(d.jsx)("div",{className:"wrapper landing-footer-wrapper summary-footer-wrapper",children:Object(d.jsxs)("ul",{className:"footer-nav-list",children:[Object(d.jsx)("label",{children:"Helpful links:"}),Object(d.jsx)("a",{href:"https://www.nhs.uk/mental-health/self-help/guides-tools-and-activities/tips-to-reduce-stress/",target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:"10 stress busters"})}),Object(d.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:Object(d.jsx)("li",{className:"footer-list-item",children:s})})]})}),Object(d.jsxs)("div",{className:"stats-details",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Total number of questions:"," "+r.numberOfQuestions]}),Object(d.jsxs)("p",{children:["Total number of questions answered:"," "+r.numberOfAnsweredQuestions]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("button",{className:"btn btn-form",children:"Exit to Homepage"})})})]})]})}):Object(d.jsx)(n.Fragment,{children:Object(d.jsx)("div",{className:"wrapper stats-wrapper",children:Object(d.jsx)("h1",{children:"Test results not available"})})}),Object(d.jsxs)(n.Fragment,{children:[Object(d.jsx)(c.a,{children:Object(d.jsx)("title",{children:"Stress Scale"})}),Object(d.jsx)("div",{className:"container summary-container",children:e})]})}}]),s}(n.Component);function A(e,t){if(console.log("Result in calclcuate previous day",e),console.log("State in calclcuate previous day",t),localStorage.getItem("day")<1)alert("Day is less than 1");else if(1!=localStorage.getItem("day"))return e[e.length-2].score>e[e.length-1].score?Object(d.jsx)("p",{className:"score",children:"Well done \ud83d\udc4d\ud83c\udffc your score has gone down since yesterday by "+(e[e.length-2].score-e[e.length-1].score)}):e[e.length-2].score==t.score?Object(d.jsx)("p",{className:"score",children:'"Your score is equal to that of yesterday. Below are some links to help you with any stress you are having."'}):Object(d.jsx)("p",{className:"score",children:"Your scores have increased by "+(e[e.length-1].score-e[e.length-2].score)+". You need to take it easy by taking a walk or doing some breathing exercises"})}var _=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:h}),Object(d.jsx)(l.a,{exact:!0,path:"/register",component:p}),Object(d.jsx)(l.a,{exact:!0,path:"/login",component:b}),Object(d.jsx)(l.a,{exact:!0,path:"/questions",component:Q}),Object(d.jsx)(l.a,{exact:!0,path:"/summary",component:q})]})},B=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,71)).then((function(t){var s=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),o(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),B()}},[[70,1,2]]]);
//# sourceMappingURL=main.4c1eff18.chunk.js.map